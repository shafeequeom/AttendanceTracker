(function(e){function t(t){for(var n,o,c=t[0],s=t[1],l=t[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/AttendanceTracker/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"44ec":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"background"},[a("v-main",[a("div",{staticStyle:{top:"0",left:"0",position:"fixed",overflow:"hidden",width:"100%",height:"100%"}},[a("vue-particles",{attrs:{color:"#ccc",particleOpacity:.7,particlesNumber:80,shapeType:"circle",particleSize:4,linesColor:"#dedede",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3}})],1),a("v-fade-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1)},i=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("ab39")),c=(a("da96"),{name:"App",data:function(){return{image:null}},mounted:function(){this.loadModels()},methods:{loadModels:function(){Promise.all([o["e"]("./assets/models"),o["f"]("./assets/models"),o["d"]("./assets/models"),o["g"]("./assets/models")])}}}),s=c,l=(a("034f"),a("2877")),u=a("6544"),d=a.n(u),m=a("7496"),f=a("0789"),h=a("f6c4"),p=Object(l["a"])(s,r,i,!1,null,null,null),v=p.exports;d()(p,{VApp:m["a"],VFadeTransition:f["a"],VMain:h["a"]});var g=a("f309");n["a"].use(g["a"]);var b=new g["a"]({}),w=a("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("div",[n("div",{staticClass:"text-center welcome-text"},[e._v("WELCOME TO")]),n("div",{staticClass:"text-center museum-text"},[e._v("MUSEUM OF FUTURE")])]),n("v-card",{staticClass:"ma-auto mt-4 fill-height",attrs:{height:"100%",width:"80%",round:""}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{md:"6",sm:"12"}},[n("image-capture",{ref:"camera",on:{capture:function(t){e.form.image=t}}})],1),n("v-col",{attrs:{md:"6"}},[n("div",{staticStyle:{margin:"20 auto"}},[n("v-img",{attrs:{src:a("cf05"),contain:"",height:"150"}})],1),n("div",{staticClass:"pa-4"},[n("v-form",[n("v-row",[n("v-col",{attrs:{md:"12",sm:"12",lg:"12"}},[n("v-text-field",{attrs:{outlined:"",round:"",label:"Enter your name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("v-col",{attrs:{md:"12",sm:"12",lg:"12"}},[n("v-text-field",{attrs:{outlined:"",label:"Enter your email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("v-col",[n("v-btn",{attrs:{height:"40",dark:"",block:"",color:"black"},on:{click:e.submitEntryForm}},[e._v("Enter")])],1)],1)],1)],1)])],1)],1)],1)],1)},x=[],C=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:"height:"+e.height+"px"},[a("v-img",{directives:[{name:"show",rawName:"v-show",value:e.image,expression:"image"}],staticStyle:{"border-radius":"10px"},attrs:{width:"100%",height:e.height,src:e.image}}),e.started?e._e():a("div",{staticClass:"d-flex align-center justify-center flex-column",style:"height:"+e.height+"px"},[a("circle-loader",{staticClass:"custom-class",attrs:{color:"#ccc",loading:!e.started,size:150,sizeUnit:"px"}}),a("h4",{staticClass:"mt-3",attrs:{font:""}},[e._v("Loading Camera..")])],1),a("div",[a("div",[a("vue-web-cam",{directives:[{name:"show",rawName:"v-show",value:null==e.image,expression:"image == null"}],ref:"webcam",attrs:{"device-id":e.deviceId,width:"100%"},on:{started:e.onStarted,stopped:e.onStopped,error:e.onError,cameras:e.onCameras,"camera-change":e.onCameraChange}}),null==e.image?a("canvas",{ref:"canvas",style:"z-index: 10;transform: translateY(-101%);position:fixed",attrs:{width:e.canvas.width,height:e.canvas.height}}):e._e()],1),a("div",{staticClass:"d-flex justify-center",staticStyle:{"z-index":"1000 !important","margin-top":"-80px",position:"relative"}},[a("v-spacer"),null==e.image&&e.started?a("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",icon:""},on:{click:e.onCapture}},[a("v-icon",[e._v("mdi-camera-iris")])],1):e.started?a("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",icon:""},on:{click:e.reCapture}},[a("v-icon",[e._v("mdi-camera-retake")])],1):e._e(),e.started?e._e():a("v-btn",{attrs:{fab:"",dark:"",icon:""},on:{click:e.onStart}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-camera")])],1)],1)])],1)}),_=[],S=a("1da1"),$=a("4f96"),k=(a("96cf"),a("7db0"),a("fb6a"),a("159b"),a("b3cb")),O=a("05c2"),E={components:{"vue-web-cam":k["WebCam"],"circle-loader":O["CircleLoader"]},data:function(){return{image:null,camera:null,deviceId:null,devices:[],capture_image_dialoge:!1,started:!1,height:400,canvas:{height:400,width:100,margin:-400}}},computed:{device:function(){var e=this;return this.devices.find((function(t){return t.deviceId===e.deviceId}))}},watch:{camera:{immediate:!0,handler:function(e){e&&(this.deviceId=e,this.height="".concat(this.$refs.webcam.$el.height-50),this.detectFaces())}},devices:function(){var e=Object($["a"])(this.devices),t=e[0],a=e.slice(1);console.log(a),t&&(this.camera=t.deviceId,this.deviceId=t.deviceId)}},methods:{onCapture:function(){var e=this;this.image=this.$refs.webcam.capture(),fetch(this.image).then((function(e){return e.blob()})).then((function(t){return e.$emit("capture",t)}))},onStarted:function(e){var t=this;this.started=e.active,setInterval((function(){t.detectFaces()}),1e3)},onStopped:function(e){this.started=e.active},onStop:function(){this.$refs.webcam.stop()},onStart:function(){this.$refs.webcam.start()},reCapture:function(){this.image=null,this.$forceUpdate(),setTimeout(this.onStart(),1e3)},onError:function(e){this.showError(e)},onCameras:function(e){this.devices=e},onCameraChange:function(e){this.deviceId=e,this.camera=e},detectFaces:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={maxNumScales:10,scaleFactor:.709,scoreThresholds:[.6,.7,.7],minFaceSize:150},n=e.$refs.webcam?e.$refs.webcam.$el:null,!n||4!=n.readyState){t.next=14;break}return r=new o["a"](a),t.next=6,o["b"](n,r).withFaceLandmarks().withFaceDescriptors().withFaceExpressions();case 6:return i=t.sent,c=e.$refs.canvas,s=o["h"](c,n,!0),t.next=11,o["i"](i,s);case 11:i=t.sent,i.length&&(e.canvas.width=n.width,e.canvas.height=n.height,e.canvas.margin=-(n.height+50),i.forEach((function(e){o["c"].drawDetections(c,e)}))),i.length>1&&(e.$toast.clear(),e.$toast.error("Error! More than one face detected"));case 14:case"end":return t.stop()}}),t)})))()}}},F=E,j=(a("a606"),a("8336")),V=a("132d"),T=a("adda"),I=a("2fa4"),M=Object(l["a"])(F,C,_,!1,null,null,null),P=M.exports;d()(M,{VBtn:j["a"],VIcon:V["a"],VImg:T["a"],VSpacer:I["a"]});var N={data:function(){return{form:{name:"Shafeeque OM",email:"shafeequeom7@gmail.com",picture:null}}},components:{"image-capture":P},methods:{captureImage:function(e){this.form.picture=e},submitEntryForm:function(){var e=this,t=new FormData;this.form.image?(t.append("picture",this.form.image),t.append("name",this.form.name),t.append("email",this.form.email),t.append("type","ENTRY"),console.log(t),this.$http.post("attendances",t,{headers:{"Content-Type":"multipart/form-data; boundary=${form._boundary}"}}).then((function(t){200==t.status&&(e.form={name:null,email:null,picture:null},e.$refs.camera.reCapture(),e.$toast.success("Welcome! Please scan your face for exit"))}))):this.$toast.error("Error! Please capture image")}}},U=N,z=(a("eeb3"),a("b0af")),L=a("99d9"),R=a("62ad"),D=a("a523"),A=a("4bd4"),W=a("0fd9"),q=a("8654"),B=Object(l["a"])(U,y,x,!1,null,null,null),H=B.exports;d()(B,{VBtn:j["a"],VCard:z["a"],VCardText:L["a"],VCol:R["a"],VContainer:D["a"],VForm:A["a"],VImg:T["a"],VRow:W["a"],VTextField:q["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("404 Not found")])},Y=[],G={},K=G,Q=Object(l["a"])(K,J,Y,!1,null,null,null),X=Q.exports;n["a"].use(w["a"]);var Z=[{name:"Home",path:"/",component:H,meta:{item:null,module:{id:null},title:"Home"}},{name:"Entry",path:"/entry",component:H,meta:{item:null,module:{id:null},title:"Details"}},{name:"NotFound",path:"*",component:X,meta:{item:null,module:{id:null},title:"Not FOund"}}],ee=new w["a"]({mode:"history",base:"/AttendanceTracker/",routes:Z}),te=ee,ae=a("98c9"),ne=a("bc3a"),re=a.n(ne),ie=a("6c42");n["a"].use(O["VueSpinners"]),n["a"].use(ae["a"]),n["a"].use(ie["a"]);var oe=re.a.create({baseURL:"http://localhost:5000"});n["a"].prototype.$http=oe,n["a"].config.productionTip=!1,new n["a"]({vuetify:b,router:te,render:function(e){return e(v)}}).$mount("#app")},"85ec":function(e,t,a){},a606:function(e,t,a){"use strict";a("44ec")},cf05:function(e,t,a){e.exports=a.p+"img/logo.a92d184c.png"},e77e:function(e,t,a){},eeb3:function(e,t,a){"use strict";a("e77e")}});
//# sourceMappingURL=app.b3cb7bad.js.map